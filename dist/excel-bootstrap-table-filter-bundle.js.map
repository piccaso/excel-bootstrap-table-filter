{"version":3,"file":"excel-bootstrap-table-filter-bundle.js","sources":["../src/Debounce.ts","../src/FilterMenu.ts","../src/FilterCollection.ts","../src/excel-bootstrap-table-filter.ts"],"sourcesContent":["export default function debounce(fn: Function, ms = 600): Function {\n    let timeoutId: number;\n    return function (this: any, ...args: any[]) {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => fn.apply(this, args), ms);\n    };\n}","import { FilterCollection } from './FilterCollection'\nimport debounce from './Debounce'\n\nexport class FilterMenu {\n\n  th:                 Element;\n  tds:                Array<Element>;\n  column:             number;\n  index:              number;\n  menu:               HTMLElement;\n  inputs:             Array<Element>;\n  selectAllCheckbox:  Element;\n  searchFilter:       Element;\n  options:            Options;\n  target:             JQuery;\n  filterCollection:   FilterCollection;\n\n  constructor (target: JQuery, th: Element, column: number, index: number, options: Options, filterCollection: FilterCollection) {\n    this.options = options;\n    this.th = th;\n    this.column = column;\n    this.index = index;\n    this.tds = target.find('tbody tr td:nth-child(' + (this.column + 1) + ')').toArray();\n    this.filterCollection = filterCollection;\n  }\n\n  public initialize(): void {\n    this.menu = this.dropdownFilterDropdown();\n    this.th.appendChild(this.menu);\n\n    // variables for click handlers\n    let $trigger = $(this.menu.children[0]);\n    let $content = $(this.menu.children[1]);\n    let $menu = $(this.menu);\n\n    const updateContent = () => {\n      const newEl = this.dropdownFilterDropdown().children[1];\n      const oldEl = this.menu.children[1];\n      this.menu.replaceChild(newEl, oldEl);\n      $content = $(this.menu.children[1]);\n      this.filterCollection.bind();\n    };\n    const debounced = debounce(updateContent, 50);\n    const eventHandler = ()=>{\n      debounced();\n    };\n\n    const refresh = \"refresh\";\n    this.th.setAttribute('hasRefresh','hasRefresh');\n    this.th.addEventListener(refresh, eventHandler);\n    if(this.options.autoUpdate) {\n      this.tds.forEach(el => el.addEventListener(refresh, eventHandler));\n    }\n    \n    // toggle hide/show when the trigger is clicked\n    $trigger.click(() => $content.toggle());\n\n    $(document).click(function(el) {\n      // hide the content if the user clicks outside of the menu\n      if (!$menu.is(el.target) && $menu.has(el.target).length === 0) {\n        $content.hide();\n      }\n    });\n  }\n\n  public searchToggle(value: string): void {\n    if (this.selectAllCheckbox instanceof HTMLInputElement) this.selectAllCheckbox.checked = false;\n    if (value.length === 0){\n      this.toggleAll(true);\n      if (this.selectAllCheckbox instanceof HTMLInputElement) this.selectAllCheckbox.checked = true;\n      return;\n    }\n    // deselect all checkboxes initially\n    this.toggleAll(false);\n    // select checkboxes that match the search parameter\n    this.inputs.filter(function(input: HTMLInputElement) {\n      return input.value.toLowerCase().indexOf(value.toLowerCase()) > -1;\n    }).forEach(function(input: HTMLInputElement) {\n      input.checked = true;\n    });\n  }\n\n\n  public updateSelectAll(): void {\n    if (this.selectAllCheckbox instanceof HTMLInputElement) {\n      // clear search parameters, if any\n      $(this.searchFilter).val('');\n      // Check if all inputs are selected\n      this.selectAllCheckbox.checked = (this.inputs.length === this.inputs.filter(function(input: HTMLInputElement) {\n        return input.checked;\n      }).length);\n    }\n  }\n\n  public selectAllUpdate(checked: boolean): void {\n    // clear search parameters, if any\n    $(this.searchFilter).val('');\n    this.toggleAll(checked);\n  }\n\n  private toggleAll(checked: boolean): void {\n    // loop through all inputs and check or uncheck each\n    for (var i=0; i < this.inputs.length; i++) {\n      let input = this.inputs[i];\n      if (input instanceof HTMLInputElement) input.checked = checked;\n    }\n  }\n\n  private dropdownFilterItem(td: HTMLElement, self: any): HTMLElement {\n    // build holder div\n    let value = td.innerText;\n    let dropdownFilterItem = document.createElement('div');\n    dropdownFilterItem.className = 'dropdown-filter-item';\n    // build input\n    let input = document.createElement('input');\n    input.type = 'checkbox';\n    input.value = value.trim().replace(/ *$/g,'');\n    input.setAttribute('checked','checked');\n    input.className = 'dropdown-filter-menu-item item';\n    // get index of td element\n    input.setAttribute('data-column', self.column.toString());\n    input.setAttribute('data-index', self.index.toString());\n    // append input to holding div\n    dropdownFilterItem.appendChild(input);\n    dropdownFilterItem.innerHTML = dropdownFilterItem.innerHTML.trim() + ' ' +  value;\n    return dropdownFilterItem;\n  }\n\n  private dropdownFilterItemSelectAll(): HTMLElement {\n    // build holder div\n    let value = this.options.captions.select_all;\n    let dropdownFilterItemSelectAll = document.createElement('div');\n    dropdownFilterItemSelectAll.className = 'dropdown-filter-item';\n    // build input\n    let input = document.createElement('input');\n    input.type = 'checkbox';\n    input.value = this.options.captions.select_all;\n    input.setAttribute('checked','checked');\n    input.className = 'dropdown-filter-menu-item select-all';\n    input.setAttribute('data-column', this.column.toString());\n    input.setAttribute('data-index', this.index.toString());\n    // append input to holding div\n    dropdownFilterItemSelectAll.appendChild(input);\n    dropdownFilterItemSelectAll.innerHTML = dropdownFilterItemSelectAll.innerHTML + ' ' +  value;\n    return dropdownFilterItemSelectAll;\n  }\n\n  private dropdownFilterSearch(): HTMLElement {\n    // build holder div\n    let dropdownFilterItem = document.createElement('div');\n    dropdownFilterItem.className = 'dropdown-filter-search';\n    // build input\n    let input = document.createElement('input');\n    input.type = 'text';\n    input.className = 'dropdown-filter-menu-search form-control';\n    input.setAttribute('data-column', this.column.toString());\n    input.setAttribute('data-index', this.index.toString());\n    input.setAttribute('placeholder', this.options.captions.search);\n    // append input to holding div\n    dropdownFilterItem.appendChild(input);\n    return dropdownFilterItem;\n  }\n\n  private dropdownFilterSort(direction: string): HTMLElement {\n    // build holder div\n    let dropdownFilterItem = document.createElement('div');\n    dropdownFilterItem.className = 'dropdown-filter-sort';\n    // build span\n    let span = document.createElement('span');\n    span.className = direction.toLowerCase().split(' ').join('-');\n    span.setAttribute('data-column', this.column.toString());\n    span.setAttribute('data-index', this.index.toString());\n    span.innerText = direction;\n    // append input to holding div\n    dropdownFilterItem.appendChild(span);\n    return dropdownFilterItem;\n  }\n\n  private dropdownFilterContent(): HTMLElement {\n    let self = this;\n    // build holder div\n    let dropdownFilterContent = document.createElement('div');\n    dropdownFilterContent.classList.add('dropdown-filter-content', 'needs-binding');\n    let stringFound = false;\n    let count : {[element : string] : number} = {};\n    let innerDivs = this.tds.reduce(function(arr, el: HTMLElement) {\n      // get unique values in column\n      let elt = el.innerText.trim()\n      if (count[elt] === undefined) {\n        let elc = el.cloneNode(true)\n        arr.push(elc);\n        count[elt] = 1\n      } else {\n        count[elt] += 1\n      }\n      // return unique values\n      //console.log(arr)\n      return arr;\n    }, [])\n    .map(function(v) { \n      v.innerText += ' (' + String(count[v.innerText.trim()]) + ')'; \n      const str = v.innerText.toLowerCase();\n      const nr = Number(str);\n      if(!stringFound){\n        if(isNaN(nr)) stringFound=true;\n      }\n\n      return {el:v,str,nr}; \n    })\n    .sort(function(a, b) {\n      if (stringFound) {\n        if(a.str < b.str) return -1;\n        if(a.str > b.str) return  1;\n      } else {\n        if(a.nr < b.nr) return -1;\n        if(a.nr > b.nr) return  1;\n      }\n      return 0;\n    })\n    // create dropdown filter items out of each value\n    .map( (td) => {\n      return this.dropdownFilterItem(td.el, self);\n    })\n\n    // map inputs to instance, we will need these later\n    this.inputs = innerDivs.map((div) => div.firstElementChild);\n\n    // add a select all checkbox\n    let selectAllCheckboxDiv = this.dropdownFilterItemSelectAll();\n    // map the select all  checkbox to the instance, we will need it later\n    this.selectAllCheckbox = selectAllCheckboxDiv.firstElementChild;\n    // the checkbox will precede the other inputs\n    innerDivs.unshift(selectAllCheckboxDiv);\n\n    let searchFilterDiv = this.dropdownFilterSearch();\n    this.searchFilter = searchFilterDiv.firstElementChild;\n\n    // create outer div, and place all inner divs within it\n    let outerDiv = innerDivs.reduce(function(outerDiv, innerDiv) {\n      outerDiv.appendChild(innerDiv);\n      return outerDiv;\n    }, document.createElement('div'));\n    outerDiv.className = 'checkbox-container';\n\n    let elements: Array<HTMLElement> = [];\n    if (this.options.sort  ) elements= elements.concat([\n      this.dropdownFilterSort(this.options.captions.a_to_z),\n      this.dropdownFilterSort(this.options.captions.z_to_a)\n      ]);\n    if (this.options.search) elements.push(searchFilterDiv);\n\n    return elements.concat(outerDiv).reduce(function(html, el) {\n        html.appendChild(el);\n        return html;\n    }, dropdownFilterContent);\n  }\n\n  private dropdownFilterDropdown(): HTMLElement {\n    // build holder div\n    let dropdownFilterDropdown = document.createElement('div');\n    dropdownFilterDropdown.className = 'dropdown-filter-dropdown';\n    let arrow = document.createElement('span');\n    arrow.className = 'glyphicon glyphicon-arrow-down dropdown-filter-icon';\n    let icon = document.createElement('i');\n    icon.className = 'arrow-down';\n    arrow.appendChild(icon);\n    dropdownFilterDropdown.appendChild(arrow);\n    const dropdownFilterContent = this.dropdownFilterContent();\n    dropdownFilterDropdown.appendChild(dropdownFilterContent);\n        \n    if ($(this.th).hasClass('no-sort')) {\n      $(dropdownFilterDropdown).find('.dropdown-filter-sort').remove();\n    }\n    if ($(this.th).hasClass('no-filter')) {\n      $(dropdownFilterDropdown).find('.checkbox-container').remove();\n    }\n    if ($(this.th).hasClass('no-search')) {\n      $(dropdownFilterDropdown).find('.dropdown-filter-search').remove();\n    }\n    return dropdownFilterDropdown;\n  }\n\n}\n","import { FilterMenu } from './FilterMenu'\nimport debounce from './Debounce'\n\nexport class FilterCollection {\n\n  filterMenus:  Array<FilterMenu>;\n  rows:         Array<Element>;\n  ths:          Array<Element>;\n  table:        Element;\n  tbody:        Element;\n  options:      Options;\n  target:       JQuery;\n\n  constructor (target: JQuery, options: Options) {\n    this.target = target;\n    this.options = options;\n    this.ths = target.find('th' + options.columnSelector).toArray()\n    this.filterMenus = this.ths.map((th: HTMLElement, index: number) => {\n      let column = $(th).index();\n      return new FilterMenu(target, th, column, index, options, this);\n    });\n    this.rows = target.find('tbody').find('tr').toArray();\n    this.table = target.get(0);\n    this.tbody = target.find('tbody').get(0);\n  }\n\n  public initialize(): void {\n    this.filterMenus.forEach(function(filterMenu) {\n      filterMenu.initialize();\n    });\n    this.bind();\n    this.bindAutoUpdate();\n  }\n\n  public bind(): void {\n    this.bindCheckboxes();\n    this.bindSelectAllCheckboxes();\n    this.bindSort();\n    this.bindSearch();\n    this.target.find('.needs-binding').removeClass('needs-binding');\n  }\n\n  private bindAutoUpdate(): void {\n    if(!this.options.autoUpdate) return;\n    const observer = new MutationObserver((mut)=>{\n      let targets: Array<Node> = [];\n      let reloadAll: boolean = false;\n      for (const m of mut) {\n        if(m.target.nodeName.toLowerCase() === 'td') targets.push(m.target);\n        if(m.target.parentNode && m.target.parentNode.nodeName.toLowerCase() === 'td') targets.push(m.target.parentNode);\n        if(m.removedNodes && m.removedNodes.length > 0) Array.from(m.removedNodes).forEach(rn=>{\n          if(!rn.hasChildNodes) return;\n          if(rn.nodeName.toLowerCase() === 'tr') reloadAll = true;\n        });\n      }\n      if(reloadAll) {\n        targets.length = 0;\n        targets.push(...this.ths);\n      } \n      const event = new CustomEvent('refresh');\n      targets.forEach(t=>t.dispatchEvent(event));\n    });\n    const config = { attributes: false, childList: true, subtree: true, characterData: true };\n    observer.observe(this.table.querySelector('tbody'), config);\n  }\n\n  private bindCheckboxes(): void {\n    let filterMenus = this.filterMenus;\n    let rows = this.rows;\n    let tbody = this.tbody;\n    let ths = this.ths;\n    let updateRowVisibility = this.updateRowVisibility;\n    this.target.find('.needs-binding .dropdown-filter-menu-item.item').change(function() {\n      let index = $(this).data('index');\n      filterMenus[index].updateSelectAll();\n      updateRowVisibility(filterMenus, rows, ths, tbody);\n    });\n  }\n\n  private bindSelectAllCheckboxes(): void {\n    let filterMenus = this.filterMenus;\n    let rows = this.rows;\n    let tbody = this.tbody;\n    let ths = this.ths;\n    let updateRowVisibility = this.updateRowVisibility;\n    this.target.find('.needs-binding .dropdown-filter-menu-item.select-all').change(function() {\n      let index = $(this).data('index');\n      let value = this.checked;\n      filterMenus[index].selectAllUpdate(value);\n      updateRowVisibility(filterMenus, rows, ths, tbody);\n    });\n  }\n\n  private bindSort(): void {\n    let filterMenus = this.filterMenus;\n    let rows = this.rows;\n    let tbody = this.tbody;\n    let ths = this.ths;\n    let sort = this.sort;\n    let table = this.table;\n    let options = this.options;\n    let updateRowVisibility = this.updateRowVisibility;\n    this.target.find('.needs-binding .dropdown-filter-sort').click(function() {\n      let $sortElement = $(this).find('span');\n      let column = $sortElement.data('column');\n      let order = $sortElement.attr('class');\n      sort(column, order, table, options);\n      updateRowVisibility(filterMenus, rows, ths, tbody);\n    });\n  }\n\n  private bindSearch(): void {\n    let filterMenus = this.filterMenus;\n    let rows = this.rows;\n    let tbody = this.tbody;\n    let ths = this.ths;\n    let updateRowVisibility = this.updateRowVisibility;\n    const handler = function() {\n      let $input = $(this).find('input');\n      let index = $input.data('index');\n      let value = $input.val();\n      filterMenus[index].searchToggle(value);\n      updateRowVisibility(filterMenus, rows, ths, tbody);\n    };\n    const debouncedHandler = debounce(handler);\n    this.target.find('.needs-binding .dropdown-filter-search').keyup(debouncedHandler);\n  }\n\n  private updateRowVisibility(filterMenus: Array<FilterMenu>, rows: Array<Element>, ths: Array<Element>, tbody:Element): void {\n    let showRows = rows;\n    let hideRows: Array<Element> = [];\n    let selectedLists = filterMenus.map(function(filterMenu) {\n      return {\n        column: filterMenu.column,\n        selected: new Set(filterMenu.inputs\n          .filter(function(input: HTMLInputElement) {\n            return input.checked\n          }).map(function(input: HTMLInputElement) {\n            return input.value.trim().replace(/ *\\(\\d+\\)$/g,'');\n          }))\n      };\n    });\n    if (rows.length > 100)\n      $(tbody).hide();\n    for (let i=0; i < rows.length; i++) {\n      let tds = rows[i].children;\n      let found : boolean = true\n      for (let j=0; j < selectedLists.length; j++) {\n        let content = (tds[selectedLists[j].column] as HTMLElement).innerText.trim().replace(/ *$/g,'')\n        if (!selectedLists[j].selected.has(content)) {\n          $(rows[i]).hide();\n          found = false\n          break;\n        }\n      }\n      if (found)\n        $(rows[i]).show();\n    }\n    if (rows.length > 100)\n      $(tbody).show();\n  }\n\n  private sort(column: number, order: string, table: Element, options: Options): void {\n    let flip = 1;\n    if (order === options.captions.z_to_a.toLowerCase().split(' ').join('-')) flip = -1;\n    const tbody = table.querySelector('tbody');\n    let stringFound = false;\n    const rows = Array.from(tbody.querySelectorAll('tr'))\n    .map(el => el as HTMLElement)\n    .map(el => {\n      let str = (el.children[column] as HTMLElement).innerText.toLowerCase();\n      let nr = Number(str);\n      if (!stringFound) {\n        if (isNaN(nr)) stringFound = true;\n      }\n      return { el, nr, str };\n    }).sort((a, b) => {\n      if (stringFound) {\n        if (a.str < b.str) return -1 * flip;\n        if (a.str > b.str) return 1 * flip;\n      } else {\n        if (a.nr < b.nr) return -1 * flip;\n        if (a.nr > b.nr) return 1 * flip;\n      }\n      return 0;\n    });\n\n    for (var i = 0; i < rows.length; i++) {\n      tbody.appendChild(rows[i].el);\n    }\n  }\n\n\n}\n","import $ from 'jquery';\nimport { FilterCollection } from './FilterCollection'\n\n// Define the plugin function on the jQuery extension point.\n($.fn as any).excelTableFilter = function (this: JQuery, options: Options) : JQuery {\n  let target = this;\n  // Merge the global options with the per-call options.\n  options = $.extend({}, ($.fn as any).excelTableFilter.options, options);\n\n  if (typeof options.columnSelector === 'undefined') options.columnSelector = '';\n  if (typeof options.sort === 'undefined') options.sort = true;\n  if (typeof options.search === 'undefined') options.search = true;\n  if (typeof options.autoUpdate === 'undefined') options.autoUpdate = true;\n\n  if (typeof options.captions === 'undefined') options.captions = {\n    a_to_z: 'A to Z',\n    z_to_a: 'Z to A',\n    search: 'Search',\n    select_all: 'Select All'\n  }\n\n  let filterCollection = new FilterCollection(target, options);\n  filterCollection.initialize();\n  \n  // Return the jQuery object for chaining.\n  return target;\n};\n\n// Define the plugin's global default options.\n($.fn as any).excelTableFilter.options = {};\n"],"names":["fn","ms","timeoutId","args","setTimeout","apply","target","th","column","index","options","filterCollection","tds","find","toArray","menu","dropdownFilterDropdown","appendChild","$trigger","$","children","$content","$menu","updateContent","newEl","oldEl","replaceChild","bind","debounced","debounce","eventHandler","refresh","setAttribute","addEventListener","autoUpdate","forEach","el","click","toggle","document","is","has","length","hide","value","selectAllCheckbox","HTMLInputElement","checked","toggleAll","inputs","filter","input","toLowerCase","indexOf","searchFilter","val","i","td","self","innerText","dropdownFilterItem","createElement","className","type","trim","replace","toString","innerHTML","captions","select_all","dropdownFilterItemSelectAll","search","direction","span","split","join","dropdownFilterContent","classList","add","stringFound","count","innerDivs","reduce","arr","elt","undefined","elc","cloneNode","push","map","v","String","str","nr","Number","isNaN","sort","a","b","div","firstElementChild","selectAllCheckboxDiv","unshift","searchFilterDiv","dropdownFilterSearch","outerDiv","innerDiv","elements","concat","dropdownFilterSort","a_to_z","z_to_a","html","arrow","icon","hasClass","remove","ths","columnSelector","filterMenus","FilterMenu","rows","table","get","tbody","filterMenu","initialize","bindAutoUpdate","bindCheckboxes","bindSelectAllCheckboxes","bindSort","bindSearch","removeClass","observer","MutationObserver","mut","targets","reloadAll","m","nodeName","parentNode","removedNodes","Array","from","rn","hasChildNodes","event","CustomEvent","t","dispatchEvent","config","attributes","childList","subtree","characterData","observe","querySelector","updateRowVisibility","change","data","updateSelectAll","selectAllUpdate","$sortElement","order","attr","handler","$input","searchToggle","debouncedHandler","keyup","showRows","hideRows","selectedLists","Set","found","j","content","selected","show","flip","querySelectorAll","excelTableFilter","extend","FilterCollection"],"mappings":"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"}